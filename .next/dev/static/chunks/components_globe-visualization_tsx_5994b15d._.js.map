{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ali/Desktop/Leedshack2026/leedshack2026-prototype/components/globe-visualization.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { Suspense, useRef, useMemo, useState } from \"react\"\r\nimport { Canvas, useFrame, useLoader } from \"@react-three/fiber\"\r\nimport { OrbitControls, Html, Stars, Line } from \"@react-three/drei\"\r\nimport * as THREE from \"three\"\r\n\r\n// --- TYPES ---\r\n\r\nexport interface Hotspot {\r\n  lat: number\r\n  lon: number\r\n  label: string\r\n  weight: number // 0 to 1 (risk level)\r\n  altitudeBand: string\r\n}\r\n\r\nexport interface SatellitePosition {\r\n  id: string\r\n  name: string\r\n  lat: number\r\n  lon: number\r\n  altitudeKm: number\r\n  type: \"active\" | \"debris\" | \"station\" | \"recent\"\r\n  noradId: number\r\n}\r\n\r\ninterface GlobeVisualizationProps {\r\n  launchSite: { lat: number; lon: number; name: string } | null\r\n  corridorPath: { lat: number; lon: number }[]\r\n  corridorWidth: number\r\n  hotspots: Hotspot[]\r\n  showCorridor: boolean\r\n  showHotspots: boolean\r\n  showSatellites: boolean\r\n  satellites: SatellitePosition[]\r\n}\r\n\r\n// --- MATH HELPERS ---\r\n\r\nconst EARTH_RADIUS = 2.0\r\nconst EARTH_RADIUS_KM = 6371\r\n\r\nfunction latLonToVector3(lat: number, lon: number, radius: number): THREE.Vector3 {\r\n  const phi = (90 - lat) * (Math.PI / 180)\r\n  const theta = (lon + 180) * (Math.PI / 180)\r\n  const x = -(radius * Math.sin(phi) * Math.cos(theta))\r\n  const y = radius * Math.cos(phi)\r\n  const z = radius * Math.sin(phi) * Math.sin(theta)\r\n  return new THREE.Vector3(x, y, z)\r\n}\r\n\r\n// --- SUB-COMPONENTS ---\r\n\r\nfunction Earth() {\r\n  const earthRef = useRef<THREE.Mesh>(null)\r\n  const cloudsRef = useRef<THREE.Mesh>(null)\r\n  const glowRef = useRef<THREE.Mesh>(null)\r\n\r\n  const [dayMap, nightMap, normalMap, specMap, cloudsMap] = useLoader(THREE.TextureLoader, [\r\n    \"https://cdn.jsdelivr.net/gh/mrdoob/three.js@r160/examples/textures/planets/earth_atmos_2048.jpg\",\r\n    \"https://cdn.jsdelivr.net/gh/mrdoob/three.js@r160/examples/textures/planets/earth_lights_2048.png\",\r\n    \"https://cdn.jsdelivr.net/gh/mrdoob/three.js@r160/examples/textures/planets/earth_normal_2048.jpg\",\r\n    \"https://cdn.jsdelivr.net/gh/mrdoob/three.js@r160/examples/textures/planets/earth_specular_2048.jpg\",\r\n    \"https://cdn.jsdelivr.net/gh/mrdoob/three.js@r160/examples/textures/planets/earth_clouds_2048.png\",\r\n  ])\r\n\r\n  useMemo(() => {\r\n    const setup = (t: THREE.Texture, isColor: boolean) => {\r\n      t.anisotropy = 8\r\n      if (isColor) (t as any).colorSpace = (THREE as any).SRGBColorSpace\r\n      t.needsUpdate = true\r\n    }\r\n    setup(dayMap, true)\r\n    setup(nightMap, true)\r\n    setup(cloudsMap, true)\r\n    setup(normalMap, false)\r\n    setup(specMap, false)\r\n  }, [dayMap, nightMap, normalMap, specMap, cloudsMap])\r\n\r\n  useFrame((state) => {\r\n    const t = state.clock.elapsedTime\r\n    if (cloudsRef.current) cloudsRef.current.rotation.y += 0.00035\r\n    if (glowRef.current) {\r\n      const mat = glowRef.current.material as THREE.MeshBasicMaterial\r\n      mat.opacity = 0.05 + Math.sin(t * 0.6) * 0.02\r\n    }\r\n  })\r\n\r\n  return (\r\n    <group>\r\n      <mesh ref={earthRef}>\r\n        <sphereGeometry args={[EARTH_RADIUS - 0.01, 64, 64]} />\r\n        <meshPhongMaterial\r\n          map={dayMap}\r\n          normalMap={normalMap}\r\n          normalScale={new THREE.Vector2(0.6, 0.6)}\r\n          specularMap={specMap}\r\n          specular={new THREE.Color(\"#2a5aa3\")}\r\n          shininess={15}\r\n          emissiveMap={nightMap}\r\n          emissive={new THREE.Color(\"#ffffff\")}\r\n          emissiveIntensity={0.85}\r\n        />\r\n      </mesh>\r\n      <mesh ref={cloudsRef}>\r\n        <sphereGeometry args={[EARTH_RADIUS + 0.01, 64, 64]} />\r\n        <meshPhongMaterial map={cloudsMap} transparent opacity={0.6} depthWrite={false} side={THREE.DoubleSide} />\r\n      </mesh>\r\n      <mesh ref={glowRef}>\r\n        <sphereGeometry args={[EARTH_RADIUS + 0.05, 64, 64]} />\r\n        <meshBasicMaterial color=\"#66ccff\" transparent opacity={0.05} />\r\n      </mesh>\r\n    </group>\r\n  )\r\n}\r\n\r\nfunction Atmosphere() {\r\n  return (\r\n    <mesh>\r\n      <sphereGeometry args={[EARTH_RADIUS + 0.08, 64, 64]} />\r\n      <meshBasicMaterial color=\"#58c4ff\" transparent opacity={0.05} side={THREE.BackSide} />\r\n    </mesh>\r\n  )\r\n}\r\n\r\nfunction Rocket({ curve }: { curve: THREE.CatmullRomCurve3 }) {\r\n  const rocketRef = useRef<THREE.Group>(null)\r\n  const flameRef = useRef<THREE.Mesh>(null)\r\n  const SPEED = 0.15\r\n\r\n  useFrame((state) => {\r\n    if (!rocketRef.current || !curve) return\r\n    const t = (state.clock.elapsedTime * SPEED) % 1\r\n    const position = curve.getPointAt(t)\r\n    const tangent = curve.getTangentAt(t).normalize()\r\n\r\n    rocketRef.current.position.copy(position)\r\n    const up = new THREE.Vector3(0, 1, 0)\r\n    rocketRef.current.quaternion.setFromUnitVectors(up, tangent)\r\n\r\n    if (flameRef.current) {\r\n      flameRef.current.scale.setScalar(0.8 + Math.random() * 0.4)\r\n    }\r\n  })\r\n\r\n  return (\r\n    <group ref={rocketRef}>\r\n      <mesh position={[0, 0.03, 0]}>\r\n        <cylinderGeometry args={[0.015, 0.025, 0.1, 8]} />\r\n        <meshStandardMaterial color=\"white\" metalness={0.6} roughness={0.2} />\r\n      </mesh>\r\n      <mesh position={[0, 0.1, 0]}>\r\n        <coneGeometry args={[0.015, 0.05, 8]} />\r\n        <meshStandardMaterial color=\"#ef4444\" />\r\n      </mesh>\r\n      <mesh ref={flameRef} position={[0, -0.04, 0]} rotation={[Math.PI, 0, 0]}>\r\n        <coneGeometry args={[0.01, 0.08, 8]} />\r\n        <meshBasicMaterial color=\"#f59e0b\" transparent opacity={0.9} />\r\n      </mesh>\r\n      <pointLight distance={0.5} intensity={2} color=\"#f59e0b\" position={[0, -0.05, 0]} />\r\n    </group>\r\n  )\r\n}\r\n\r\nfunction Trajectory({ path, visible }: { path: { lat: number; lon: number }[]; visible: boolean }) {\r\n  const { curve, linePoints } = useMemo(() => {\r\n    if (path.length < 2) return { curve: null, linePoints: [] }\r\n    const points: THREE.Vector3[] = []\r\n    \r\n    // UPDATED: Lower altitude (0.4 = 20% of Earth Radius) for realistic LEO look\r\n    const MAX_ALTITUDE = 0.4 \r\n\r\n    path.forEach((p, i) => {\r\n      const progress = i / (path.length - 1)\r\n      \r\n      // UPDATED MATH: \"Ease Out Quartic\"\r\n      // This creates a \"Gravity Turn\": \r\n      // 1. Rises very fast vertically at the start (launch)\r\n      // 2. Quickly pitches over to horizontal\r\n      // 3. Stays flat at max altitude for the rest of the path (orbit)\r\n      const altitudeCurve = 1 - Math.pow(1 - progress, 4)\r\n      \r\n      const currentAltitude = EARTH_RADIUS + (altitudeCurve * MAX_ALTITUDE)\r\n      \r\n      points.push(latLonToVector3(p.lat, p.lon, currentAltitude))\r\n    })\r\n\r\n    const curve = new THREE.CatmullRomCurve3(points)\r\n    curve.curveType = \"catmullrom\"\r\n    curve.tension = 0.5\r\n    const linePoints = curve.getPoints(60)\r\n\r\n    return { curve, linePoints }\r\n  }, [path])\r\n\r\n  if (!visible || !curve) return null\r\n\r\n  return (\r\n    <group>\r\n      <Line\r\n        points={linePoints}\r\n        color=\"#22d3ee\"\r\n        opacity={0.6}\r\n        transparent\r\n        lineWidth={2}\r\n        dashed\r\n        dashScale={8}\r\n        dashSize={0.4}\r\n        gapSize={0.2}\r\n      />\r\n      <Rocket curve={curve} />\r\n      <mesh position={linePoints[linePoints.length - 1]}>\r\n        <sphereGeometry args={[0.04, 16, 16]} />\r\n        <meshBasicMaterial color=\"#22d3ee\" transparent opacity={0.5} />\r\n      </mesh>\r\n    </group>\r\n  )\r\n}\r\n\r\nfunction LaunchSiteMarker({ lat, lon, name }: { lat: number; lon: number; name: string }) {\r\n  const position = useMemo(() => latLonToVector3(lat, lon, EARTH_RADIUS + 0.02), [lat, lon])\r\n  const [hovered, setHovered] = useState(false)\r\n\r\n  return (\r\n    <group position={position}>\r\n      <mesh onPointerOver={() => setHovered(true)} onPointerOut={() => setHovered(false)}>\r\n        <sphereGeometry args={[0.04, 16, 16]} />\r\n        <meshBasicMaterial color=\"#22d3ee\" transparent opacity={0.8} />\r\n      </mesh>\r\n      <mesh>\r\n        <ringGeometry args={[0.06, 0.08, 32]} />\r\n        <meshBasicMaterial color=\"#22d3ee\" transparent opacity={0.5} side={THREE.DoubleSide} />\r\n      </mesh>\r\n      {hovered && (\r\n        <Html distanceFactor={6} style={{ pointerEvents: \"none\" }}>\r\n          <div className=\"rounded bg-black/80 px-2 py-1 text-xs text-white border border-gray-700 whitespace-nowrap backdrop-blur-md\">\r\n            {name}\r\n          </div>\r\n        </Html>\r\n      )}\r\n    </group>\r\n  )\r\n}\r\n\r\nfunction HotspotMarker({ hotspot, visible, onHover }: { hotspot: Hotspot; visible: boolean; onHover: (h: Hotspot | null) => void }) {\r\n  const position = useMemo(() => latLonToVector3(hotspot.lat, hotspot.lon, EARTH_RADIUS + 0.05), [hotspot.lat, hotspot.lon])\r\n  const [hovered, setHovered] = useState(false)\r\n  const pulseRef = useRef<THREE.Mesh>(null)\r\n\r\n  useFrame((state) => {\r\n    if (pulseRef.current) {\r\n      const scale = 1 + Math.sin(state.clock.elapsedTime * 3) * 0.3\r\n      pulseRef.current.scale.setScalar(scale)\r\n    }\r\n  })\r\n\r\n  if (!visible) return null\r\n  const size = 0.02 + hotspot.weight * 0.03\r\n  const color = hotspot.weight > 0.7 ? \"#ef4444\" : hotspot.weight > 0.4 ? \"#f59e0b\" : \"#22c55e\"\r\n\r\n  return (\r\n    <group position={position}>\r\n      <mesh\r\n        onPointerOver={(e) => { e.stopPropagation(); setHovered(true); onHover(hotspot); }}\r\n        onPointerOut={() => { setHovered(false); onHover(null); }}\r\n      >\r\n        <sphereGeometry args={[size, 16, 16]} />\r\n        <meshBasicMaterial color={color} />\r\n      </mesh>\r\n      <mesh ref={pulseRef}>\r\n        <sphereGeometry args={[size * 1.5, 16, 16]} />\r\n        <meshBasicMaterial color={color} transparent opacity={0.3} />\r\n      </mesh>\r\n      {hovered && (\r\n        <Html distanceFactor={6} style={{ pointerEvents: \"none\" }}>\r\n          <div className=\"rounded bg-black/80 px-3 py-2 text-xs text-white border border-gray-700 whitespace-nowrap backdrop-blur-md\">\r\n            <div className=\"font-bold\">{hotspot.label}</div>\r\n            <div className=\"text-gray-300\">\r\n              Alt: {hotspot.altitudeBand} | Risk: {(hotspot.weight * 100).toFixed(0)}%\r\n            </div>\r\n          </div>\r\n        </Html>\r\n      )}\r\n    </group>\r\n  )\r\n}\r\n\r\nconst SAT_COLORS: Record<string, string> = {\r\n  active: \"#3b82f6\", debris: \"#ef4444\", station: \"#ffffff\", recent: \"#22c55e\",\r\n}\r\n\r\nfunction SatelliteLayer({ satellites, visible }: { satellites: SatellitePosition[]; visible: boolean }) {\r\n  const meshRef = useRef<THREE.InstancedMesh>(null)\r\n  const [hoveredIdx, setHoveredIdx] = useState<number | null>(null)\r\n\r\n  const { matrices, colors, count } = useMemo(() => {\r\n    if (!satellites || satellites.length === 0) {\r\n      return { matrices: new Float32Array(0), colors: new Float32Array(0), count: 0 }\r\n    }\r\n    const cnt = satellites.length\r\n    const mat = new Float32Array(cnt * 16)\r\n    const col = new Float32Array(cnt * 3)\r\n    const dummy = new THREE.Matrix4()\r\n    const color = new THREE.Color()\r\n\r\n    for (let i = 0; i < cnt; i++) {\r\n      const sat = satellites[i]\r\n      const normAlt = Math.max(0.1, Math.min(sat.altitudeKm / 5000, 1.5))\r\n      const radius = EARTH_RADIUS + normAlt\r\n      \r\n      const pos = latLonToVector3(sat.lat, sat.lon, radius)\r\n      const size = sat.type === \"station\" ? 0.04 : sat.type === \"debris\" ? 0.012 : 0.018\r\n      \r\n      dummy.makeScale(size, size, size)\r\n      dummy.setPosition(pos)\r\n      dummy.toArray(mat, i * 16)\r\n\r\n      const c = SAT_COLORS[sat.type] || \"#3b82f6\"\r\n      color.set(c)\r\n      col[i * 3] = color.r\r\n      col[i * 3 + 1] = color.g\r\n      col[i * 3 + 2] = color.b\r\n    }\r\n    return { matrices: mat, colors: col, count: cnt }\r\n  }, [satellites])\r\n\r\n  useFrame(() => {\r\n    if (!meshRef.current || count === 0 || !visible) return\r\n    for (let i = 0; i < count; i++) {\r\n      const matrix = new THREE.Matrix4().fromArray(matrices, i * 16)\r\n      meshRef.current.setMatrixAt(i, matrix)\r\n      meshRef.current.setColorAt(i, new THREE.Color(colors[i*3], colors[i*3+1], colors[i*3+2]))\r\n    }\r\n    meshRef.current.instanceMatrix.needsUpdate = true\r\n    if (meshRef.current.instanceColor) meshRef.current.instanceColor.needsUpdate = true\r\n  })\r\n\r\n  if (!visible) return null\r\n\r\n  return (\r\n    <group>\r\n      <instancedMesh\r\n        ref={meshRef}\r\n        args={[undefined, undefined, count]}\r\n        onPointerMove={(e) => { e.stopPropagation(); if (e.instanceId !== undefined) setHoveredIdx(e.instanceId); }}\r\n        onPointerOut={() => setHoveredIdx(null)}\r\n      >\r\n        <sphereGeometry args={[1, 6, 6]} />\r\n        <meshBasicMaterial toneMapped={false} />\r\n      </instancedMesh>\r\n      {hoveredIdx !== null && satellites[hoveredIdx] && (\r\n        (() => {\r\n          const sat = satellites[hoveredIdx]\r\n          const altKm = Math.max(0, sat.altitudeKm || 0)\r\n          const satRadius = EARTH_RADIUS * (1 + altKm / EARTH_RADIUS_KM)\r\n          const hoverPos = latLonToVector3(sat.lat, sat.lon, satRadius + 0.05)\r\n          return (\r\n            <Html position={hoverPos} distanceFactor={6} style={{ pointerEvents: 'none' }}>\r\n              <div className=\"rounded-md bg-card/95 px-3 py-2 text-xs font-sans text-card-foreground shadow-lg border border-border whitespace-nowrap backdrop-blur-sm\">\r\n                <div className=\"font-medium\">{sat.name}</div>\r\n                <div className=\"text-muted-foreground flex gap-2\">\r\n                  <span>NORAD {sat.noradId}</span>\r\n                  <span>Alt: {Math.round(sat.altitudeKm)} km</span>\r\n                </div>\r\n                <div className=\"text-muted-foreground capitalize\">{sat.type}</div>\r\n              </div>\r\n            </Html>\r\n          )\r\n        })()\r\n      )}\r\n    </group>\r\n  )\r\n}\r\n\r\n// --- MAIN COMPONENT ---\r\n\r\nexport default function GlobeVisualization({\r\n  launchSite,\r\n  corridorPath,\r\n  corridorWidth,\r\n  hotspots,\r\n  showCorridor,\r\n  showHotspots,\r\n  showSatellites,\r\n  satellites,\r\n}: GlobeVisualizationProps) {\r\n  const [, setHoveredHotspot] = useState<Hotspot | null>(null)\r\n\r\n  return (\r\n    <div className=\"w-full h-full relative\" style={{ minHeight: '500px' }}>\r\n      <Canvas camera={{ position: [0, 0, 6], fov: 45 }} gl={{ antialias: true, alpha: true }}>\r\n        <color attach=\"background\" args={[\"#000005\"]} />\r\n        <Suspense fallback={null}>\r\n          <ambientLight intensity={0.4} />\r\n          <directionalLight position={[10, 5, 5]} intensity={1.5} />\r\n          <Stars radius={100} depth={50} count={3000} factor={4} saturation={0} fade speed={0.5} />\r\n\r\n          <Earth />\r\n          <Atmosphere />\r\n\r\n          <SatelliteLayer satellites={satellites} visible={showSatellites} />\r\n\r\n          {launchSite && (\r\n            <LaunchSiteMarker lat={launchSite.lat} lon={launchSite.lon} name={launchSite.name} />\r\n          )}\r\n\r\n          <Trajectory \r\n            path={corridorPath} \r\n            visible={showCorridor} \r\n          />\r\n\r\n          {hotspots.map((h, i) => (\r\n            <HotspotMarker \r\n              key={`hotspot-${i}`} \r\n              hotspot={h} \r\n              visible={showHotspots} \r\n              onHover={setHoveredHotspot} \r\n            />\r\n          ))}\r\n\r\n          <OrbitControls \r\n            enablePan={false} \r\n            minDistance={3.5} \r\n            maxDistance={12} \r\n            enableDamping \r\n            dampingFactor={0.05} \r\n          />\r\n        </Suspense>\r\n      </Canvas>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":"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"}}]
}