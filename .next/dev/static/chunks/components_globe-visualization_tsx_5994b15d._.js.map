{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ali/Desktop/Leedshack2026/leedshack2026-prototype/components/globe-visualization.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { Suspense, useRef, useMemo, useState } from \"react\"\r\nimport { Canvas, useFrame, useLoader } from \"@react-three/fiber\"\r\nimport { OrbitControls, Html, Stars, Line } from \"@react-three/drei\"\r\nimport * as THREE from \"three\"\r\n\r\n// --- TYPES ---\r\n\r\nexport interface Hotspot {\r\n  lat: number\r\n  lon: number\r\n  label: string\r\n  weight: number // 0 to 1 (risk level)\r\n  altitudeBand: string\r\n}\r\n\r\nexport interface SatellitePosition {\r\n  id: string\r\n  name: string\r\n  lat: number\r\n  lon: number\r\n  altitudeKm: number\r\n  type: \"active\" | \"debris\" | \"station\" | \"recent\"\r\n  noradId: number\r\n}\r\n\r\ninterface GlobeVisualizationProps {\r\n  launchSite: { lat: number; lon: number; name: string } | null\r\n  corridorPath: { lat: number; lon: number }[]\r\n  corridorWidth: number\r\n  hotspots: Hotspot[]\r\n  showCorridor: boolean\r\n  showHotspots: boolean\r\n  showSatellites: boolean\r\n  satellites: SatellitePosition[]\r\n  compareCorridorPath?: { lat: number; lon: number }[]\r\n  satelliteOpacity?: number\r\n}\r\n\r\n// --- MATH HELPERS ---\r\n\r\nconst EARTH_RADIUS = 2.0\r\nconst EARTH_RADIUS_KM = 6371\r\n\r\nfunction latLonToVector3(lat: number, lon: number, radius: number): THREE.Vector3 {\r\n  const phi = (90 - lat) * (Math.PI / 180)\r\n  const theta = (lon + 180) * (Math.PI / 180)\r\n  const x = -(radius * Math.sin(phi) * Math.cos(theta))\r\n  const y = radius * Math.cos(phi)\r\n  const z = radius * Math.sin(phi) * Math.sin(theta)\r\n  return new THREE.Vector3(x, y, z)\r\n}\r\n\r\n// --- SUB-COMPONENTS ---\r\n\r\nfunction Earth() {\r\n  const earthRef = useRef<THREE.Mesh>(null)\r\n  const cloudsRef = useRef<THREE.Mesh>(null)\r\n  const glowRef = useRef<THREE.Mesh>(null)\r\n\r\n  const [dayMap, nightMap, normalMap, specMap, cloudsMap] = useLoader(THREE.TextureLoader, [\r\n    \"https://cdn.jsdelivr.net/gh/mrdoob/three.js@r160/examples/textures/planets/earth_atmos_2048.jpg\",\r\n    \"https://cdn.jsdelivr.net/gh/mrdoob/three.js@r160/examples/textures/planets/earth_lights_2048.png\",\r\n    \"https://cdn.jsdelivr.net/gh/mrdoob/three.js@r160/examples/textures/planets/earth_normal_2048.jpg\",\r\n    \"https://cdn.jsdelivr.net/gh/mrdoob/three.js@r160/examples/textures/planets/earth_specular_2048.jpg\",\r\n    \"https://cdn.jsdelivr.net/gh/mrdoob/three.js@r160/examples/textures/planets/earth_clouds_2048.png\",\r\n  ])\r\n\r\n  useMemo(() => {\r\n    const setup = (t: THREE.Texture, isColor: boolean) => {\r\n      t.anisotropy = 8\r\n      if (isColor) (t as any).colorSpace = (THREE as any).SRGBColorSpace\r\n      t.needsUpdate = true\r\n    }\r\n    setup(dayMap, true)\r\n    setup(nightMap, true)\r\n    setup(cloudsMap, true)\r\n    setup(normalMap, false)\r\n    setup(specMap, false)\r\n  }, [dayMap, nightMap, normalMap, specMap, cloudsMap])\r\n\r\n  useFrame((state) => {\r\n    const t = state.clock.elapsedTime\r\n    if (cloudsRef.current) cloudsRef.current.rotation.y += 0.00035\r\n    if (glowRef.current) {\r\n      const mat = glowRef.current.material as THREE.MeshBasicMaterial\r\n      mat.opacity = 0.05 + Math.sin(t * 0.6) * 0.02\r\n    }\r\n  })\r\n\r\n  return (\r\n    <group>\r\n      <mesh ref={earthRef}>\r\n        <sphereGeometry args={[EARTH_RADIUS - 0.01, 64, 64]} />\r\n        <meshPhongMaterial\r\n          map={dayMap}\r\n          normalMap={normalMap}\r\n          normalScale={new THREE.Vector2(0.6, 0.6)}\r\n          specularMap={specMap}\r\n          specular={new THREE.Color(\"#2a5aa3\")}\r\n          shininess={15}\r\n          emissiveMap={nightMap}\r\n          emissive={new THREE.Color(\"#ffffff\")}\r\n          emissiveIntensity={0.85}\r\n        />\r\n      </mesh>\r\n      <mesh ref={cloudsRef}>\r\n        <sphereGeometry args={[EARTH_RADIUS + 0.01, 64, 64]} />\r\n        <meshPhongMaterial map={cloudsMap} transparent opacity={0.6} depthWrite={false} side={THREE.DoubleSide} />\r\n      </mesh>\r\n      <mesh ref={glowRef}>\r\n        <sphereGeometry args={[EARTH_RADIUS + 0.05, 64, 64]} />\r\n        <meshBasicMaterial color=\"#66ccff\" transparent opacity={0.05} />\r\n      </mesh>\r\n    </group>\r\n  )\r\n}\r\n\r\nfunction Atmosphere() {\r\n  return (\r\n    <mesh>\r\n      <sphereGeometry args={[EARTH_RADIUS + 0.08, 64, 64]} />\r\n      <meshBasicMaterial color=\"#58c4ff\" transparent opacity={0.05} side={THREE.BackSide} />\r\n    </mesh>\r\n  )\r\n}\r\n\r\nfunction Rocket({ curve }: { curve: THREE.CatmullRomCurve3 }) {\r\n  const rocketRef = useRef<THREE.Group>(null)\r\n  const flameRef = useRef<THREE.Mesh>(null)\r\n  const SPEED = 0.15\r\n\r\n  useFrame((state) => {\r\n    if (!rocketRef.current || !curve) return\r\n    const t = (state.clock.elapsedTime * SPEED) % 1\r\n    const position = curve.getPointAt(t)\r\n    const tangent = curve.getTangentAt(t).normalize()\r\n\r\n    rocketRef.current.position.copy(position)\r\n    const up = new THREE.Vector3(0, 1, 0)\r\n    rocketRef.current.quaternion.setFromUnitVectors(up, tangent)\r\n\r\n    if (flameRef.current) {\r\n      flameRef.current.scale.setScalar(0.8 + Math.random() * 0.4)\r\n    }\r\n  })\r\n\r\n  return (\r\n    <group ref={rocketRef}>\r\n      <mesh position={[0, 0.03, 0]}>\r\n        <cylinderGeometry args={[0.015, 0.025, 0.1, 8]} />\r\n        <meshStandardMaterial color=\"white\" metalness={0.6} roughness={0.2} />\r\n      </mesh>\r\n      <mesh position={[0, 0.1, 0]}>\r\n        <coneGeometry args={[0.015, 0.05, 8]} />\r\n        <meshStandardMaterial color=\"#ef4444\" />\r\n      </mesh>\r\n      <mesh ref={flameRef} position={[0, -0.04, 0]} rotation={[Math.PI, 0, 0]}>\r\n        <coneGeometry args={[0.01, 0.08, 8]} />\r\n        <meshBasicMaterial color=\"#f59e0b\" transparent opacity={0.9} />\r\n      </mesh>\r\n      <pointLight distance={0.5} intensity={2} color=\"#f59e0b\" position={[0, -0.05, 0]} />\r\n    </group>\r\n  )\r\n}\r\n\r\nfunction Trajectory({ path, visible, color = \"#22d3ee\" }: { path: { lat: number; lon: number }[]; visible: boolean; color?: string }) {\r\n  const { curve, linePoints } = useMemo(() => {\r\n    if (path.length < 2) return { curve: null, linePoints: [] }\r\n    const points: THREE.Vector3[] = []\r\n    \r\n    // UPDATED: Lower altitude (0.4 = 20% of Earth Radius) for realistic LEO look\r\n    const MAX_ALTITUDE = 0.4 \r\n\r\n    path.forEach((p, i) => {\r\n      const progress = i / (path.length - 1)\r\n      \r\n      // UPDATED MATH: \"Ease Out Quartic\"\r\n      // This creates a \"Gravity Turn\": \r\n      // 1. Rises very fast vertically at the start (launch)\r\n      // 2. Quickly pitches over to horizontal\r\n      // 3. Stays flat at max altitude for the rest of the path (orbit)\r\n      const altitudeCurve = 1 - Math.pow(1 - progress, 4)\r\n      \r\n      const currentAltitude = EARTH_RADIUS + (altitudeCurve * MAX_ALTITUDE)\r\n      \r\n      points.push(latLonToVector3(p.lat, p.lon, currentAltitude))\r\n    })\r\n\r\n    const curve = new THREE.CatmullRomCurve3(points)\r\n    curve.curveType = \"catmullrom\"\r\n    curve.tension = 0.5\r\n    const linePoints = curve.getPoints(60)\r\n\r\n    return { curve, linePoints }\r\n  }, [path])\r\n\r\n  if (!visible || !curve) return null\r\n\r\n  return (\r\n    <group>\r\n      <Line\r\n        points={linePoints}\r\n        color={color}\r\n        opacity={0.6}\r\n        transparent\r\n        lineWidth={2}\r\n        dashed\r\n        dashScale={8}\r\n        dashSize={0.4}\r\n        gapSize={0.2}\r\n      />\r\n      <Rocket curve={curve} />\r\n      <mesh position={linePoints[linePoints.length - 1]}>\r\n        <sphereGeometry args={[0.04, 16, 16]} />\r\n        <meshBasicMaterial color={color} transparent opacity={0.5} />\r\n      </mesh>\r\n    </group>\r\n  )\r\n}\r\n\r\nfunction LaunchSiteMarker({ lat, lon, name }: { lat: number; lon: number; name: string }) {\r\n  const position = useMemo(() => latLonToVector3(lat, lon, EARTH_RADIUS + 0.02), [lat, lon])\r\n  const [hovered, setHovered] = useState(false)\r\n\r\n  return (\r\n    <group position={position}>\r\n      <mesh onPointerOver={() => setHovered(true)} onPointerOut={() => setHovered(false)}>\r\n        <sphereGeometry args={[0.04, 16, 16]} />\r\n        <meshBasicMaterial color=\"#22d3ee\" transparent opacity={0.8} />\r\n      </mesh>\r\n      <mesh>\r\n        <ringGeometry args={[0.06, 0.08, 32]} />\r\n        <meshBasicMaterial color=\"#22d3ee\" transparent opacity={0.5} side={THREE.DoubleSide} />\r\n      </mesh>\r\n      {hovered && (\r\n        <Html distanceFactor={6} style={{ pointerEvents: \"none\" }}>\r\n          <div className=\"rounded bg-black/80 px-2 py-1 text-xs text-white border border-gray-700 whitespace-nowrap backdrop-blur-md\">\r\n            {name}\r\n          </div>\r\n        </Html>\r\n      )}\r\n    </group>\r\n  )\r\n}\r\n\r\nfunction HotspotMarker({ hotspot, visible, onHover }: { hotspot: Hotspot; visible: boolean; onHover: (h: Hotspot | null) => void }) {\r\n  const position = useMemo(() => latLonToVector3(hotspot.lat, hotspot.lon, EARTH_RADIUS + 0.05), [hotspot.lat, hotspot.lon])\r\n  const [hovered, setHovered] = useState(false)\r\n  const pulseRef = useRef<THREE.Mesh>(null)\r\n\r\n  useFrame((state) => {\r\n    if (pulseRef.current) {\r\n      const scale = 1 + Math.sin(state.clock.elapsedTime * 3) * 0.3\r\n      pulseRef.current.scale.setScalar(scale)\r\n    }\r\n  })\r\n\r\n  if (!visible) return null\r\n  const size = 0.02 + hotspot.weight * 0.03\r\n  const color = hotspot.weight > 0.7 ? \"#ef4444\" : hotspot.weight > 0.4 ? \"#f59e0b\" : \"#22c55e\"\r\n\r\n  return (\r\n    <group position={position}>\r\n      <mesh\r\n        onPointerOver={(e) => { e.stopPropagation(); setHovered(true); onHover(hotspot); }}\r\n        onPointerOut={() => { setHovered(false); onHover(null); }}\r\n      >\r\n        <sphereGeometry args={[size, 16, 16]} />\r\n        <meshBasicMaterial color={color} />\r\n      </mesh>\r\n      <mesh ref={pulseRef}>\r\n        <sphereGeometry args={[size * 1.5, 16, 16]} />\r\n        <meshBasicMaterial color={color} transparent opacity={0.3} />\r\n      </mesh>\r\n      {hovered && (\r\n        <Html distanceFactor={6} style={{ pointerEvents: \"none\" }}>\r\n          <div className=\"rounded bg-black/80 px-3 py-2 text-xs text-white border border-gray-700 whitespace-nowrap backdrop-blur-md\">\r\n            <div className=\"font-bold\">{hotspot.label}</div>\r\n            <div className=\"text-gray-300\">\r\n              Alt: {hotspot.altitudeBand} | Risk: {(hotspot.weight * 100).toFixed(0)}%\r\n            </div>\r\n          </div>\r\n        </Html>\r\n      )}\r\n    </group>\r\n  )\r\n}\r\n\r\nconst SAT_COLORS: Record<string, string> = {\r\n  active: \"#3b82f6\", debris: \"#ef4444\", station: \"#ffffff\", recent: \"#22c55e\",\r\n}\r\n\r\nfunction createSatelliteGeometry(): THREE.BufferGeometry {\r\n  const geometry = new THREE.BufferGeometry()\r\n  const vertices: number[] = []\r\n  const colors: number[] = []\r\n  const indices: number[] = []\r\n  let indexOffset = 0\r\n\r\n  // Helper to add vertices for a box and get color for solar panels\r\n  const addBoxVertices = (x: number, y: number, z: number, w: number, h: number, d: number, isPanel: boolean) => {\r\n    const hx = w / 2, hy = h / 2, hz = d / 2\r\n    const color = isPanel ? [0.98, 0.75, 0.14] : [0.19, 0.17, 0.22] // Gold for panels, dark gray for body\r\n    \r\n    const boxVertices = [\r\n      x - hx, y - hy, z - hz, x + hx, y - hy, z - hz, x + hx, y + hy, z - hz, x - hx, y + hy, z - hz,\r\n      x - hx, y - hy, z + hz, x + hx, y - hy, z + hz, x + hx, y + hy, z + hz, x - hx, y + hy, z + hz\r\n    ]\r\n    \r\n    boxVertices.forEach(() => {\r\n      colors.push(...color)\r\n    })\r\n    \r\n    vertices.push(...boxVertices)\r\n    \r\n    const baseIdx = indexOffset\r\n    const boxIndices = [\r\n      baseIdx, baseIdx + 1, baseIdx + 2, baseIdx, baseIdx + 2, baseIdx + 3,\r\n      baseIdx + 4, baseIdx + 6, baseIdx + 5, baseIdx + 4, baseIdx + 7, baseIdx + 6,\r\n      baseIdx, baseIdx + 4, baseIdx + 5, baseIdx, baseIdx + 5, baseIdx + 1,\r\n      baseIdx + 2, baseIdx + 6, baseIdx + 7, baseIdx + 2, baseIdx + 7, baseIdx + 3\r\n    ]\r\n    indices.push(...boxIndices)\r\n    indexOffset += 8\r\n  }\r\n\r\n  // Central body\r\n  addBoxVertices(0, 0, 0, 1, 1.4, 1, false)\r\n  \r\n  // Left solar panel\r\n  addBoxVertices(-2.5, 0, 0, 4, 0.3, 2.5, true)\r\n  \r\n  // Right solar panel\r\n  addBoxVertices(2.5, 0, 0, 4, 0.3, 2.5, true)\r\n\r\n  geometry.setAttribute('position', new THREE.BufferAttribute(new Float32Array(vertices), 3))\r\n  geometry.setAttribute('color', new THREE.BufferAttribute(new Float32Array(colors), 3))\r\n  geometry.setIndex(new THREE.BufferAttribute(new Uint32Array(indices), 1))\r\n  geometry.computeVertexNormals()\r\n  \r\n  return geometry\r\n}\r\n\r\nfunction createDebrisGeometry(): THREE.BufferGeometry {\r\n  // Create a jagged rock-like shape using icosahedron with random vertex displacement\r\n  const baseGeometry = new THREE.IcosahedronGeometry(1, 3)\r\n  const positions = baseGeometry.attributes.position.array as Float32Array\r\n  const colors: number[] = []\r\n\r\n  // Randomly displace vertices to create jagged appearance\r\n  for (let i = 0; i < positions.length; i += 3) {\r\n    const displacement = (Math.random() - 0.5) * 0.4\r\n    positions[i] += displacement\r\n    positions[i + 1] += displacement\r\n    positions[i + 2] += displacement\r\n    \r\n    // Rock color: brownish-gray\r\n    colors.push(0.4, 0.35, 0.3)\r\n  }\r\n\r\n  baseGeometry.setAttribute('color', new THREE.BufferAttribute(new Float32Array(colors), 3))\r\n  baseGeometry.computeVertexNormals()\r\n  \r\n  return baseGeometry\r\n}\r\n\r\nfunction SatelliteLayer({ satellites, visible, opacity = 1 }: { satellites: SatellitePosition[]; visible: boolean; opacity?: number }) {\r\n  const meshRef = useRef<THREE.InstancedMesh>(null)\r\n  const debrisRef = useRef<THREE.InstancedMesh>(null)\r\n  const glowRef = useRef<THREE.InstancedMesh>(null)\r\n  const [hoveredIdx, setHoveredIdx] = useState<number | null>(null)\r\n\r\n  const { satMatrices, debrisMatrices, colors, satCount, debrisCount } = useMemo(() => {\r\n    if (!satellites || satellites.length === 0) {\r\n      return { satMatrices: new Float32Array(0), debrisMatrices: new Float32Array(0), colors: new Float32Array(0), satCount: 0, debrisCount: 0 }\r\n    }\r\n    \r\n    const satMat: number[] = []\r\n    const debrisMat: number[] = []\r\n    const col: number[] = []\r\n    const dummy = new THREE.Matrix4()\r\n    const color = new THREE.Color()\r\n    let satIdx = 0\r\n    let debrisIdx = 0\r\n\r\n    for (let i = 0; i < satellites.length; i++) {\r\n      const sat = satellites[i]\r\n      const normAlt = Math.max(0.1, Math.min(sat.altitudeKm / 5000, 1.5))\r\n      const radius = EARTH_RADIUS + normAlt\r\n      \r\n      const pos = latLonToVector3(sat.lat, sat.lon, radius)\r\n      const size = sat.type === \"station\" ? 0.012 : sat.type === \"debris\" ? 0.006 : 0.008\r\n      \r\n      dummy.makeScale(size, size, size)\r\n      dummy.setPosition(pos)\r\n      \r\n      const c = SAT_COLORS[sat.type] || \"#3b82f6\"\r\n      color.set(c)\r\n      \r\n      if (sat.type === \"debris\") {\r\n        dummy.toArray(debrisMat, debrisIdx * 16)\r\n        debrisIdx++\r\n      } else {\r\n        dummy.toArray(satMat, satIdx * 16)\r\n        satIdx++\r\n      }\r\n      \r\n      col.push(color.r, color.g, color.b)\r\n    }\r\n    \r\n    return { \r\n      satMatrices: new Float32Array(satMat),\r\n      debrisMatrices: new Float32Array(debrisMat),\r\n      colors: new Float32Array(col),\r\n      satCount: satIdx,\r\n      debrisCount: debrisIdx\r\n    }\r\n  }, [satellites])\r\n\r\n  const satGeometryRef = useRef<THREE.BufferGeometry | null>(null)\r\n  const debrisGeometryRef = useRef<THREE.BufferGeometry | null>(null)\r\n  \r\n  if (!satGeometryRef.current) {\r\n    satGeometryRef.current = createSatelliteGeometry()\r\n  }\r\n  \r\n  if (!debrisGeometryRef.current) {\r\n    debrisGeometryRef.current = createDebrisGeometry()\r\n  }\r\n\r\n  useFrame(() => {\r\n    if (!visible) return\r\n    \r\n    // Update satellites\r\n    if (meshRef.current && satCount > 0) {\r\n      for (let i = 0; i < satCount; i++) {\r\n        const matrix = new THREE.Matrix4().fromArray(satMatrices, i * 16)\r\n        meshRef.current.setMatrixAt(i, matrix)\r\n      }\r\n      meshRef.current.instanceMatrix.needsUpdate = true\r\n    }\r\n    \r\n    // Update debris\r\n    if (debrisRef.current && debrisCount > 0) {\r\n      for (let i = 0; i < debrisCount; i++) {\r\n        const matrix = new THREE.Matrix4().fromArray(debrisMatrices, i * 16)\r\n        debrisRef.current.setMatrixAt(i, matrix)\r\n      }\r\n      debrisRef.current.instanceMatrix.needsUpdate = true\r\n    }\r\n    \r\n    // Update glow effect\r\n    if (glowRef.current && satCount + debrisCount > 0) {\r\n      const allCount = satCount + debrisCount\r\n      for (let i = 0; i < allCount; i++) {\r\n        const sourceMatrices = i < satCount ? satMatrices : debrisMatrices\r\n        const sourceIdx = i < satCount ? i : i - satCount\r\n        const matrix = new THREE.Matrix4().fromArray(sourceMatrices, sourceIdx * 16)\r\n        // Scale up slightly for glow halo\r\n        const scale = new THREE.Vector3()\r\n        matrix.decompose(new THREE.Vector3(), new THREE.Quaternion(), scale)\r\n        matrix.scale(new THREE.Vector3(1.15, 1.15, 1.15))\r\n        glowRef.current.setMatrixAt(i, matrix)\r\n      }\r\n      glowRef.current.instanceMatrix.needsUpdate = true\r\n    }\r\n  })\r\n\r\n  if (!visible) return null\r\n\r\n  return (\r\n    <group>\r\n      {/* Satellite mesh */}\r\n      {satCount > 0 && (\r\n        <instancedMesh ref={meshRef} args={[satGeometryRef.current || undefined, undefined, satCount]} onPointerMove={(e) => { e.stopPropagation(); if (e.instanceId !== undefined) setHoveredIdx(e.instanceId); }} onPointerOut={() => setHoveredIdx(null)}>\r\n          <meshStandardMaterial toneMapped={false} metalness={0.7} roughness={0.3} transparent opacity={opacity} vertexColors side={THREE.DoubleSide} />\r\n        </instancedMesh>\r\n      )}\r\n      \r\n      {/* Debris mesh */}\r\n      {debrisCount > 0 && (\r\n        <instancedMesh ref={debrisRef} args={[debrisGeometryRef.current || undefined, undefined, debrisCount]}>\r\n          <meshStandardMaterial toneMapped={false} metalness={0.5} roughness={0.7} transparent opacity={opacity} vertexColors side={THREE.DoubleSide} />\r\n        </instancedMesh>\r\n      )}\r\n      \r\n      {/* Glow effect for all objects - same shape as satellite */}\r\n      {satCount + debrisCount > 0 && (\r\n        <instancedMesh ref={glowRef} args={[satGeometryRef.current || undefined, undefined, satCount + debrisCount]}>\r\n          <meshBasicMaterial color={0x00ffff} transparent opacity={opacity * 0.65} />\r\n        </instancedMesh>\r\n      )}\r\n      \r\n      {hoveredIdx !== null && satellites[hoveredIdx] && (\r\n        (() => {\r\n          const sat = satellites[hoveredIdx]\r\n          const altKm = Math.max(0, sat.altitudeKm || 0)\r\n          const satRadius = EARTH_RADIUS * (1 + altKm / EARTH_RADIUS_KM)\r\n          const hoverPos = latLonToVector3(sat.lat, sat.lon, satRadius + 0.05)\r\n          return (\r\n            <Html position={hoverPos} distanceFactor={6} style={{ pointerEvents: 'none' }}>\r\n              <div className=\"rounded-md bg-card/95 px-3 py-2 text-xs font-sans text-card-foreground shadow-lg border border-border whitespace-nowrap backdrop-blur-sm\">\r\n                <div className=\"font-medium\">{sat.name}</div>\r\n                <div className=\"text-muted-foreground flex gap-2\">\r\n                  <span>NORAD {sat.noradId}</span>\r\n                  <span>Alt: {Math.round(sat.altitudeKm)} km</span>\r\n                </div>\r\n                <div className=\"text-muted-foreground capitalize\">{sat.type}</div>\r\n              </div>\r\n            </Html>\r\n          )\r\n        })()\r\n      )}\r\n    </group>\r\n  )\r\n}\r\n\r\n// --- MAIN COMPONENT ---\r\n\r\nexport default function GlobeVisualization({\r\n  launchSite,\r\n  corridorPath,\r\n  corridorWidth,\r\n  hotspots,\r\n  showCorridor,\r\n  showHotspots,\r\n  showSatellites,\r\n  satellites,\r\n  compareCorridorPath,\r\n  satelliteOpacity = 1,\r\n}: GlobeVisualizationProps) {\r\n  const [, setHoveredHotspot] = useState<Hotspot | null>(null)\r\n\r\n  return (\r\n    <div className=\"w-full h-full relative\" style={{ minHeight: '500px' }}>\r\n      <Canvas camera={{ position: [0, 0, 6], fov: 45 }} gl={{ antialias: true, alpha: true }}>\r\n        <color attach=\"background\" args={[\"#000005\"]} />\r\n        <Suspense fallback={null}>\r\n          <ambientLight intensity={0.4} />\r\n          <directionalLight position={[10, 5, 5]} intensity={1.5} />\r\n          <Stars radius={100} depth={50} count={3000} factor={4} saturation={0} fade speed={0.5} />\r\n\r\n          <Earth />\r\n          <Atmosphere />\r\n\r\n          <SatelliteLayer satellites={satellites} visible={showSatellites} opacity={satelliteOpacity} />\r\n\r\n          {launchSite && (\r\n            <LaunchSiteMarker lat={launchSite.lat} lon={launchSite.lon} name={launchSite.name} />\r\n          )}\r\n\r\n          <Trajectory \r\n            path={corridorPath} \r\n            visible={showCorridor} \r\n            color=\"#22d3ee\"\r\n          />\r\n\r\n          {compareCorridorPath && (\r\n            <Trajectory \r\n              path={compareCorridorPath} \r\n              visible={showCorridor}\r\n              color=\"#f59e0b\"\r\n            />\r\n          )}\r\n\r\n          {hotspots.map((h, i) => (\r\n            <HotspotMarker \r\n              key={`hotspot-${i}`} \r\n              hotspot={h} \r\n              visible={showHotspots} \r\n              onHover={setHoveredHotspot} \r\n            />\r\n          ))}\r\n\r\n          <OrbitControls \r\n            enablePan={false} \r\n            minDistance={3.5} \r\n            maxDistance={12} \r\n            enableDamping \r\n            dampingFactor={0.05} \r\n          />\r\n        </Suspense>\r\n      </Canvas>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":"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"}}]
}