{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ali/Desktop/Leedshack2026/leedshack2026-prototype/components/globe-visualization.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { Suspense, useRef, useMemo, useState } from \"react\"\r\nimport { Canvas, useFrame, useLoader } from \"@react-three/fiber\"\r\nimport { OrbitControls, Html, Stars, Line } from \"@react-three/drei\"\r\nimport * as THREE from \"three\"\r\n\r\n// --- TYPES ---\r\n\r\nexport interface Hotspot {\r\n  lat: number\r\n  lon: number\r\n  label: string\r\n  weight: number // 0 to 1 (risk level)\r\n  altitudeBand: string\r\n}\r\n\r\nexport interface SatellitePosition {\r\n  id: string\r\n  name: string\r\n  lat: number\r\n  lon: number\r\n  altitudeKm: number\r\n  type: \"active\" | \"debris\" | \"station\" | \"recent\"\r\n  noradId: number\r\n}\r\n\r\ninterface GlobeVisualizationProps {\r\n  launchSite: { lat: number; lon: number; name: string } | null\r\n  corridorPath: { lat: number; lon: number }[]\r\n  corridorWidth: number\r\n  hotspots: Hotspot[]\r\n  showCorridor: boolean\r\n  showHotspots: boolean\r\n  showSatellites: boolean\r\n  satellites: SatellitePosition[]\r\n}\r\n\r\n// --- MATH HELPERS ---\r\n\r\nconst EARTH_RADIUS = 2.0\r\n\r\nfunction latLonToVector3(lat: number, lon: number, radius: number): THREE.Vector3 {\r\n  const phi = (90 - lat) * (Math.PI / 180)\r\n  const theta = (lon + 180) * (Math.PI / 180)\r\n  const x = -(radius * Math.sin(phi) * Math.cos(theta))\r\n  const y = radius * Math.cos(phi)\r\n  const z = radius * Math.sin(phi) * Math.sin(theta)\r\n  return new THREE.Vector3(x, y, z)\r\n}\r\n\r\n// --- SUB-COMPONENTS ---\r\n\r\nfunction Earth() {\r\n  const earthRef = useRef<THREE.Mesh>(null)\r\n  const cloudsRef = useRef<THREE.Mesh>(null)\r\n  const glowRef = useRef<THREE.Mesh>(null)\r\n\r\n  const [dayMap, nightMap, normalMap, specMap, cloudsMap] = useLoader(THREE.TextureLoader, [\r\n    \"https://cdn.jsdelivr.net/gh/mrdoob/three.js@r160/examples/textures/planets/earth_atmos_2048.jpg\",\r\n    \"https://cdn.jsdelivr.net/gh/mrdoob/three.js@r160/examples/textures/planets/earth_lights_2048.png\",\r\n    \"https://cdn.jsdelivr.net/gh/mrdoob/three.js@r160/examples/textures/planets/earth_normal_2048.jpg\",\r\n    \"https://cdn.jsdelivr.net/gh/mrdoob/three.js@r160/examples/textures/planets/earth_specular_2048.jpg\",\r\n    \"https://cdn.jsdelivr.net/gh/mrdoob/three.js@r160/examples/textures/planets/earth_clouds_2048.png\",\r\n  ])\r\n\r\n  useMemo(() => {\r\n    const setup = (t: THREE.Texture, isColor: boolean) => {\r\n      t.anisotropy = 8\r\n      if (isColor) (t as any).colorSpace = (THREE as any).SRGBColorSpace\r\n      t.needsUpdate = true\r\n    }\r\n    setup(dayMap, true)\r\n    setup(nightMap, true)\r\n    setup(cloudsMap, true)\r\n    setup(normalMap, false)\r\n    setup(specMap, false)\r\n  }, [dayMap, nightMap, normalMap, specMap, cloudsMap])\r\n\r\n  useFrame((state) => {\r\n    const t = state.clock.elapsedTime\r\n    if (cloudsRef.current) cloudsRef.current.rotation.y += 0.00035\r\n    if (glowRef.current) {\r\n      const mat = glowRef.current.material as THREE.MeshBasicMaterial\r\n      mat.opacity = 0.05 + Math.sin(t * 0.6) * 0.02\r\n    }\r\n  })\r\n\r\n  return (\r\n    <group>\r\n      <mesh ref={earthRef}>\r\n        <sphereGeometry args={[EARTH_RADIUS - 0.01, 64, 64]} />\r\n        <meshPhongMaterial\r\n          map={dayMap}\r\n          normalMap={normalMap}\r\n          normalScale={new THREE.Vector2(0.6, 0.6)}\r\n          specularMap={specMap}\r\n          specular={new THREE.Color(\"#2a5aa3\")}\r\n          shininess={15}\r\n          emissiveMap={nightMap}\r\n          emissive={new THREE.Color(\"#ffffff\")}\r\n          emissiveIntensity={0.85}\r\n        />\r\n      </mesh>\r\n      <mesh ref={cloudsRef}>\r\n        <sphereGeometry args={[EARTH_RADIUS + 0.01, 64, 64]} />\r\n        <meshPhongMaterial map={cloudsMap} transparent opacity={0.6} depthWrite={false} side={THREE.DoubleSide} />\r\n      </mesh>\r\n      <mesh ref={glowRef}>\r\n        <sphereGeometry args={[EARTH_RADIUS + 0.05, 64, 64]} />\r\n        <meshBasicMaterial color=\"#66ccff\" transparent opacity={0.05} />\r\n      </mesh>\r\n    </group>\r\n  )\r\n}\r\n\r\nfunction Atmosphere() {\r\n  return (\r\n    <mesh>\r\n      <sphereGeometry args={[EARTH_RADIUS + 0.08, 64, 64]} />\r\n      <meshBasicMaterial color=\"#58c4ff\" transparent opacity={0.05} side={THREE.BackSide} />\r\n    </mesh>\r\n  )\r\n}\r\n\r\nfunction Rocket({ curve }: { curve: THREE.CatmullRomCurve3 }) {\r\n  const rocketRef = useRef<THREE.Group>(null)\r\n  const flameRef = useRef<THREE.Mesh>(null)\r\n  const SPEED = 0.15\r\n\r\n  useFrame((state) => {\r\n    if (!rocketRef.current || !curve) return\r\n    const t = (state.clock.elapsedTime * SPEED) % 1\r\n    const position = curve.getPointAt(t)\r\n    const tangent = curve.getTangentAt(t).normalize()\r\n\r\n    rocketRef.current.position.copy(position)\r\n    const up = new THREE.Vector3(0, 1, 0)\r\n    rocketRef.current.quaternion.setFromUnitVectors(up, tangent)\r\n\r\n    if (flameRef.current) {\r\n      flameRef.current.scale.setScalar(0.8 + Math.random() * 0.4)\r\n    }\r\n  })\r\n\r\n  return (\r\n    <group ref={rocketRef}>\r\n      <mesh position={[0, 0.03, 0]}>\r\n        <cylinderGeometry args={[0.015, 0.025, 0.1, 8]} />\r\n        <meshStandardMaterial color=\"white\" metalness={0.6} roughness={0.2} />\r\n      </mesh>\r\n      <mesh position={[0, 0.1, 0]}>\r\n        <coneGeometry args={[0.015, 0.05, 8]} />\r\n        <meshStandardMaterial color=\"#ef4444\" />\r\n      </mesh>\r\n      <mesh ref={flameRef} position={[0, -0.04, 0]} rotation={[Math.PI, 0, 0]}>\r\n        <coneGeometry args={[0.01, 0.08, 8]} />\r\n        <meshBasicMaterial color=\"#f59e0b\" transparent opacity={0.9} />\r\n      </mesh>\r\n      <pointLight distance={0.5} intensity={2} color=\"#f59e0b\" position={[0, -0.05, 0]} />\r\n    </group>\r\n  )\r\n}\r\n\r\nfunction Trajectory({ path, visible }: { path: { lat: number; lon: number }[]; visible: boolean }) {\r\n  const { curve, linePoints } = useMemo(() => {\r\n    if (path.length < 2) return { curve: null, linePoints: [] }\r\n    const points: THREE.Vector3[] = []\r\n    \r\n    // UPDATED: Lower altitude (0.4 = 20% of Earth Radius) for realistic LEO look\r\n    const MAX_ALTITUDE = 0.4 \r\n\r\n    path.forEach((p, i) => {\r\n      const progress = i / (path.length - 1)\r\n      \r\n      // UPDATED MATH: \"Ease Out Quartic\"\r\n      // This creates a \"Gravity Turn\": \r\n      // 1. Rises very fast vertically at the start (launch)\r\n      // 2. Quickly pitches over to horizontal\r\n      // 3. Stays flat at max altitude for the rest of the path (orbit)\r\n      const altitudeCurve = 1 - Math.pow(1 - progress, 4)\r\n      \r\n      const currentAltitude = EARTH_RADIUS + (altitudeCurve * MAX_ALTITUDE)\r\n      \r\n      points.push(latLonToVector3(p.lat, p.lon, currentAltitude))\r\n    })\r\n\r\n    const curve = new THREE.CatmullRomCurve3(points)\r\n    curve.curveType = \"catmullrom\"\r\n    curve.tension = 0.5\r\n    const linePoints = curve.getPoints(60)\r\n\r\n    return { curve, linePoints }\r\n  }, [path])\r\n\r\n  if (!visible || !curve) return null\r\n\r\n  return (\r\n    <group>\r\n      <Line\r\n        points={linePoints}\r\n        color=\"#22d3ee\"\r\n        opacity={0.6}\r\n        transparent\r\n        lineWidth={2}\r\n        dashed\r\n        dashScale={8}\r\n        dashSize={0.4}\r\n        gapSize={0.2}\r\n      />\r\n      <Rocket curve={curve} />\r\n      <mesh position={linePoints[linePoints.length - 1]}>\r\n        <sphereGeometry args={[0.04, 16, 16]} />\r\n        <meshBasicMaterial color=\"#22d3ee\" transparent opacity={0.5} />\r\n      </mesh>\r\n    </group>\r\n  )\r\n}\r\n\r\nfunction LaunchSiteMarker({ lat, lon, name }: { lat: number; lon: number; name: string }) {\r\n  const position = useMemo(() => latLonToVector3(lat, lon, EARTH_RADIUS + 0.02), [lat, lon])\r\n  const [hovered, setHovered] = useState(false)\r\n\r\n  return (\r\n    <group position={position}>\r\n      <mesh onPointerOver={() => setHovered(true)} onPointerOut={() => setHovered(false)}>\r\n        <sphereGeometry args={[0.04, 16, 16]} />\r\n        <meshBasicMaterial color=\"#22d3ee\" transparent opacity={0.8} />\r\n      </mesh>\r\n      <mesh>\r\n        <ringGeometry args={[0.06, 0.08, 32]} />\r\n        <meshBasicMaterial color=\"#22d3ee\" transparent opacity={0.5} side={THREE.DoubleSide} />\r\n      </mesh>\r\n      {hovered && (\r\n        <Html distanceFactor={6} style={{ pointerEvents: \"none\" }}>\r\n          <div className=\"rounded bg-black/80 px-2 py-1 text-xs text-white border border-gray-700 whitespace-nowrap backdrop-blur-md\">\r\n            {name}\r\n          </div>\r\n        </Html>\r\n      )}\r\n    </group>\r\n  )\r\n}\r\n\r\nfunction HotspotMarker({ hotspot, visible, onHover }: { hotspot: Hotspot; visible: boolean; onHover: (h: Hotspot | null) => void }) {\r\n  const position = useMemo(() => latLonToVector3(hotspot.lat, hotspot.lon, EARTH_RADIUS + 0.05), [hotspot.lat, hotspot.lon])\r\n  const [hovered, setHovered] = useState(false)\r\n  const pulseRef = useRef<THREE.Mesh>(null)\r\n\r\n  useFrame((state) => {\r\n    if (pulseRef.current) {\r\n      const scale = 1 + Math.sin(state.clock.elapsedTime * 3) * 0.3\r\n      pulseRef.current.scale.setScalar(scale)\r\n    }\r\n  })\r\n\r\n  if (!visible) return null\r\n  const size = 0.02 + hotspot.weight * 0.03\r\n  const color = hotspot.weight > 0.7 ? \"#ef4444\" : hotspot.weight > 0.4 ? \"#f59e0b\" : \"#22c55e\"\r\n\r\n  return (\r\n    <group position={position}>\r\n      <mesh\r\n        onPointerOver={(e) => { e.stopPropagation(); setHovered(true); onHover(hotspot); }}\r\n        onPointerOut={() => { setHovered(false); onHover(null); }}\r\n      >\r\n        <sphereGeometry args={[size, 16, 16]} />\r\n        <meshBasicMaterial color={color} />\r\n      </mesh>\r\n      <mesh ref={pulseRef}>\r\n        <sphereGeometry args={[size * 1.5, 16, 16]} />\r\n        <meshBasicMaterial color={color} transparent opacity={0.3} />\r\n      </mesh>\r\n      {hovered && (\r\n        <Html distanceFactor={6} style={{ pointerEvents: \"none\" }}>\r\n          <div className=\"rounded bg-black/80 px-3 py-2 text-xs text-white border border-gray-700 whitespace-nowrap backdrop-blur-md\">\r\n            <div className=\"font-bold\">{hotspot.label}</div>\r\n            <div className=\"text-gray-300\">\r\n              Alt: {hotspot.altitudeBand} | Risk: {(hotspot.weight * 100).toFixed(0)}%\r\n            </div>\r\n          </div>\r\n        </Html>\r\n      )}\r\n    </group>\r\n  )\r\n}\r\n\r\nconst SAT_COLORS: Record<string, string> = {\r\n  active: \"#3b82f6\", debris: \"#ef4444\", station: \"#ffffff\", recent: \"#22c55e\",\r\n}\r\n\r\nfunction SatelliteLayer({ satellites, visible }: { satellites: SatellitePosition[]; visible: boolean }) {\r\n  const meshRef = useRef<THREE.InstancedMesh>(null)\r\n  const [hoveredIdx, setHoveredIdx] = useState<number | null>(null)\r\n\r\n  const { matrices, colors, count } = useMemo(() => {\r\n    if (!satellites || satellites.length === 0) {\r\n      return { matrices: new Float32Array(0), colors: new Float32Array(0), count: 0 }\r\n    }\r\n    const cnt = satellites.length\r\n    const mat = new Float32Array(cnt * 16)\r\n    const col = new Float32Array(cnt * 3)\r\n    const dummy = new THREE.Matrix4()\r\n    const color = new THREE.Color()\r\n\r\n    for (let i = 0; i < cnt; i++) {\r\n      const sat = satellites[i]\r\n      const normAlt = Math.max(0.1, Math.min(sat.altitudeKm / 5000, 1.5))\r\n      const radius = EARTH_RADIUS + normAlt\r\n      \r\n      const pos = latLonToVector3(sat.lat, sat.lon, radius)\r\n      const size = sat.type === \"station\" ? 0.04 : sat.type === \"debris\" ? 0.012 : 0.018\r\n      \r\n      dummy.makeScale(size, size, size)\r\n      dummy.setPosition(pos)\r\n      dummy.toArray(mat, i * 16)\r\n\r\n      const c = SAT_COLORS[sat.type] || \"#3b82f6\"\r\n      color.set(c)\r\n      col[i * 3] = color.r\r\n      col[i * 3 + 1] = color.g\r\n      col[i * 3 + 2] = color.b\r\n    }\r\n    return { matrices: mat, colors: col, count: cnt }\r\n  }, [satellites])\r\n\r\n  useFrame(() => {\r\n    if (!meshRef.current || count === 0 || !visible) return\r\n    for (let i = 0; i < count; i++) {\r\n      const matrix = new THREE.Matrix4().fromArray(matrices, i * 16)\r\n      meshRef.current.setMatrixAt(i, matrix)\r\n      meshRef.current.setColorAt(i, new THREE.Color(colors[i*3], colors[i*3+1], colors[i*3+2]))\r\n    }\r\n    meshRef.current.instanceMatrix.needsUpdate = true\r\n    if (meshRef.current.instanceColor) meshRef.current.instanceColor.needsUpdate = true\r\n  })\r\n\r\n  if (!visible) return null\r\n\r\n  return (\r\n    <group>\r\n      <instancedMesh\r\n        ref={meshRef}\r\n        args={[undefined, undefined, count]}\r\n        onPointerMove={(e) => { e.stopPropagation(); if (e.instanceId !== undefined) setHoveredIdx(e.instanceId); }}\r\n        onPointerOut={() => setHoveredIdx(null)}\r\n      >\r\n        <sphereGeometry args={[1, 6, 6]} />\r\n        <meshBasicMaterial toneMapped={false} />\r\n      </instancedMesh>\r\n      {hoveredIdx !== null && satellites[hoveredIdx] && (\r\n         <Html position={latLonToVector3(satellites[hoveredIdx].lat, satellites[hoveredIdx].lon, EARTH_RADIUS + 0.5)} distanceFactor={10} style={{ pointerEvents: 'none' }}>\r\n           <div className=\"px-2 py-1 bg-black/80 text-white text-xs rounded border border-gray-600 whitespace-nowrap backdrop-blur-md\">\r\n             <div className=\"font-bold\">{satellites[hoveredIdx].name}</div>\r\n             <div className=\"text-[10px] text-gray-300\">Alt: {satellites[hoveredIdx].altitudeKm.toFixed(0)}km</div>\r\n           </div>\r\n         </Html>\r\n      )}\r\n    </group>\r\n  )\r\n}\r\n\r\n// --- MAIN COMPONENT ---\r\n\r\nexport default function GlobeVisualization({\r\n  launchSite,\r\n  corridorPath,\r\n  corridorWidth,\r\n  hotspots,\r\n  showCorridor,\r\n  showHotspots,\r\n  showSatellites,\r\n  satellites,\r\n}: GlobeVisualizationProps) {\r\n  const [, setHoveredHotspot] = useState<Hotspot | null>(null)\r\n\r\n  return (\r\n    <div className=\"w-full h-full relative\" style={{ minHeight: '500px' }}>\r\n      <Canvas camera={{ position: [0, 0, 6], fov: 45 }} gl={{ antialias: true, alpha: true }}>\r\n        <color attach=\"background\" args={[\"#000005\"]} />\r\n        <Suspense fallback={null}>\r\n          <ambientLight intensity={0.4} />\r\n          <directionalLight position={[10, 5, 5]} intensity={1.5} />\r\n          <Stars radius={100} depth={50} count={3000} factor={4} saturation={0} fade speed={0.5} />\r\n\r\n          <Earth />\r\n          <Atmosphere />\r\n\r\n          <SatelliteLayer satellites={satellites} visible={showSatellites} />\r\n\r\n          {launchSite && (\r\n            <LaunchSiteMarker lat={launchSite.lat} lon={launchSite.lon} name={launchSite.name} />\r\n          )}\r\n\r\n          <Trajectory \r\n            path={corridorPath} \r\n            visible={showCorridor} \r\n          />\r\n\r\n          {hotspots.map((h, i) => (\r\n            <HotspotMarker \r\n              key={`hotspot-${i}`} \r\n              hotspot={h} \r\n              visible={showHotspots} \r\n              onHover={setHoveredHotspot} \r\n            />\r\n          ))}\r\n\r\n          <OrbitControls \r\n            enablePan={false} \r\n            minDistance={3.5} \r\n            maxDistance={12} \r\n            enableDamping \r\n            dampingFactor={0.05} \r\n          />\r\n        </Suspense>\r\n      </Canvas>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":"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"}}]
}