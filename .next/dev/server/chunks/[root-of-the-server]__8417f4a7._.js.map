{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ali/Desktop/Leedshack2026/leedshack2026-prototype/lib/orbital.ts"],"sourcesContent":["// Orbital mechanics utilities for converting CelesTrak OMM data to positions\r\n\r\nconst MU = 398600.4418 // Earth gravitational parameter km³/s²\r\nconst RE = 6371.0 // Earth radius km\r\nconst TWO_PI = 2 * Math.PI\r\n\r\nexport interface OMMRecord {\r\n  OBJECT_NAME: string\r\n  OBJECT_ID: string\r\n  EPOCH: string\r\n  MEAN_MOTION: number // rev/day\r\n  ECCENTRICITY: number\r\n  INCLINATION: number // degrees\r\n  RA_OF_ASC_NODE: number // degrees\r\n  ARG_OF_PERICENTER: number // degrees\r\n  MEAN_ANOMALY: number // degrees\r\n  NORAD_CAT_ID: number\r\n  BSTAR: number\r\n  CLASSIFICATION_TYPE?: string\r\n}\r\n\r\nexport interface SatellitePosition {\r\n  name: string\r\n  noradId: number\r\n  lat: number\r\n  lon: number\r\n  altitudeKm: number\r\n  inclination: number\r\n  type: \"active\" | \"debris\" | \"station\" | \"recent\"\r\n}\r\n\r\nexport interface DensityBandData {\r\n  bandStart: number\r\n  bandEnd: number\r\n  objectCount: number\r\n  density: number // normalized 0-1\r\n}\r\n\r\n// Convert mean motion (rev/day) to semi-major axis (km)\r\nfunction meanMotionToSMA(meanMotion: number): number {\r\n  const n = (meanMotion * TWO_PI) / 86400.0 // rad/s\r\n  if (n <= 0) return RE + 400 // fallback\r\n  return Math.pow(MU / (n * n), 1 / 3)\r\n}\r\n\r\n// Compute perigee and apogee altitude from SMA and eccentricity\r\nexport function computeAltitudes(meanMotion: number, eccentricity: number) {\r\n  const a = meanMotionToSMA(meanMotion)\r\n  const perigee = a * (1 - eccentricity) - RE\r\n  const apogee = a * (1 + eccentricity) - RE\r\n  const mean = a - RE\r\n  return { perigee, apogee, mean }\r\n}\r\n\r\n// Solve Kepler's equation M = E - e*sin(E) for E using Newton-Raphson\r\nfunction solveKepler(M: number, e: number, tol = 1e-8, maxIter = 50): number {\r\n  let E = M // initial guess\r\n  for (let i = 0; i < maxIter; i++) {\r\n    const dE = (E - e * Math.sin(E) - M) / (1 - e * Math.cos(E))\r\n    E -= dE\r\n    if (Math.abs(dE) < tol) break\r\n  }\r\n  return E\r\n}\r\n\r\n// Convert orbital elements + time to Earth-fixed lat/lon\r\nexport function ommToPosition(\r\n  record: OMMRecord,\r\n  now: Date\r\n): { lat: number; lon: number; altitudeKm: number } {\r\n  const { MEAN_MOTION, ECCENTRICITY, INCLINATION, RA_OF_ASC_NODE, ARG_OF_PERICENTER, MEAN_ANOMALY, EPOCH } = record\r\n\r\n  const a = meanMotionToSMA(MEAN_MOTION)\r\n  const alt = a - RE\r\n\r\n  // Time since epoch in seconds\r\n  const epochDate = new Date(EPOCH)\r\n  const dt = (now.getTime() - epochDate.getTime()) / 1000\r\n\r\n  // Propagate mean anomaly\r\n  const n = (MEAN_MOTION * TWO_PI) / 86400.0\r\n  const M0 = (MEAN_ANOMALY * Math.PI) / 180\r\n  let M = M0 + n * dt\r\n  // Normalize M to [0, 2π]\r\n  M = ((M % TWO_PI) + TWO_PI) % TWO_PI\r\n\r\n  // Solve Kepler's equation\r\n  const E = solveKepler(M, ECCENTRICITY)\r\n\r\n  // True anomaly\r\n  const sinV = (Math.sqrt(1 - ECCENTRICITY * ECCENTRICITY) * Math.sin(E)) / (1 - ECCENTRICITY * Math.cos(E))\r\n  const cosV = (Math.cos(E) - ECCENTRICITY) / (1 - ECCENTRICITY * Math.cos(E))\r\n  const v = Math.atan2(sinV, cosV)\r\n\r\n  // Argument of latitude\r\n  const u = ((ARG_OF_PERICENTER * Math.PI) / 180) + v\r\n\r\n  // Inclination and RAAN in radians\r\n  const inc = (INCLINATION * Math.PI) / 180\r\n  const raan = (RA_OF_ASC_NODE * Math.PI) / 180\r\n\r\n  // Position in orbital plane to ECI\r\n  const xECI = Math.cos(u) * Math.cos(raan) - Math.sin(u) * Math.sin(raan) * Math.cos(inc)\r\n  const yECI = Math.cos(u) * Math.sin(raan) + Math.sin(u) * Math.cos(raan) * Math.cos(inc)\r\n  const zECI = Math.sin(u) * Math.sin(inc)\r\n\r\n  // Earth rotation: Greenwich sidereal time approximation\r\n  const J2000 = new Date(\"2000-01-01T12:00:00Z\")\r\n  const daysSinceJ2000 = (now.getTime() - J2000.getTime()) / 86400000\r\n  const GMST = ((280.46061837 + 360.98564736629 * daysSinceJ2000) % 360) * (Math.PI / 180)\r\n\r\n  // Rotate ECI to ECEF\r\n  const xECEF = xECI * Math.cos(GMST) + yECI * Math.sin(GMST)\r\n  const yECEF = -xECI * Math.sin(GMST) + yECI * Math.cos(GMST)\r\n  const zECEF = zECI\r\n\r\n  // ECEF to lat/lon\r\n  const lat = Math.atan2(zECEF, Math.sqrt(xECEF * xECEF + yECEF * yECEF)) * (180 / Math.PI)\r\n  const lon = Math.atan2(yECEF, xECEF) * (180 / Math.PI)\r\n\r\n  return { lat, lon, altitudeKm: Math.max(alt, 100) }\r\n}\r\n\r\n// Compute density by altitude band from a set of OMM records\r\nexport function computeDensityBands(\r\n  records: OMMRecord[],\r\n  bandSize = 50,\r\n  minAlt = 200,\r\n  maxAlt = 1200\r\n): DensityBandData[] {\r\n  const bands: DensityBandData[] = []\r\n  for (let start = minAlt; start < maxAlt; start += bandSize) {\r\n    bands.push({ bandStart: start, bandEnd: start + bandSize, objectCount: 0, density: 0 })\r\n  }\r\n\r\n  for (const rec of records) {\r\n    const { perigee, apogee } = computeAltitudes(rec.MEAN_MOTION, rec.ECCENTRICITY)\r\n    // Object passes through all bands between perigee and apogee\r\n    for (const band of bands) {\r\n      if (perigee <= band.bandEnd && apogee >= band.bandStart) {\r\n        band.objectCount++\r\n      }\r\n    }\r\n  }\r\n\r\n  // Normalize density to 0-1 range\r\n  const maxCount = Math.max(...bands.map((b) => b.objectCount), 1)\r\n  for (const band of bands) {\r\n    band.density = band.objectCount / maxCount\r\n  }\r\n\r\n  return bands\r\n}\r\n\r\n// Subsample records for globe rendering (take evenly spaced subset)\r\nexport function subsampleForGlobe(\r\n  records: OMMRecord[],\r\n  maxPoints: number\r\n): OMMRecord[] {\r\n  if (records.length <= maxPoints) return records\r\n  const step = Math.ceil(records.length / maxPoints)\r\n  const result: OMMRecord[] = []\r\n  for (let i = 0; i < records.length; i += step) {\r\n    result.push(records[i])\r\n  }\r\n  return result\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 176, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ali/Desktop/Leedshack2026/leedshack2026-prototype/app/api/celestrak/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\"\r\nimport {\r\n  type OMMRecord,\r\n  ommToPosition,\r\n  computeDensityBands,\r\n  computeAltitudes,\r\n  type SatellitePosition,\r\n  type DensityBandData,\r\n} from \"@/lib/orbital\"\r\n\r\n// Cache the fetched data for 10 minutes (CelesTrak updates ~every 8 hours)\r\nlet cache: {\r\n  data: CelestrakResponse | null\r\n  fetchedAt: number\r\n} = { data: null, fetchedAt: 0 }\r\n\r\nconst CACHE_TTL = 10 * 60 * 1000 // 10 minutes\r\n\r\ninterface CelestrakResponse {\r\n  satellites: SatellitePosition[]\r\n  densityBands: DensityBandData[]\r\n  stats: {\r\n    totalTracked: number\r\n    activeSats: number\r\n    debrisObjects: number\r\n    stationObjects: number\r\n    recentLaunches: number\r\n    avgAltitude: number\r\n    peakBand: string\r\n    peakCount: number\r\n  }\r\n  lastUpdated: string\r\n}\r\n\r\n// Fetch a single CelesTrak group\r\nasync function fetchGroup(group: string, limit?: number): Promise<OMMRecord[]> {\r\n  const url = new URL(\"https://celestrak.org/NORAD/elements/gp.php\")\r\n  url.searchParams.set(\"GROUP\", group)\r\n  url.searchParams.set(\"FORMAT\", \"json\")\r\n  if (limit) url.searchParams.set(\"LIMIT\", limit.toString())\r\n\r\n  try {\r\n    const res = await fetch(url.toString(), {\r\n      headers: { Accept: \"application/json\" },\r\n      signal: AbortSignal.timeout(15000),\r\n    })\r\n    if (!res.ok) return []\r\n    const data = await res.json()\r\n    if (!Array.isArray(data)) return []\r\n    return data as OMMRecord[]\r\n  } catch {\r\n    return []\r\n  }\r\n}\r\n\r\nasync function buildCelestrakData(): Promise<CelestrakResponse> {\r\n  const now = new Date()\r\n\r\n  // Fetch multiple groups in parallel (no per-group LIMITs)\r\n  const [stations, active, cosmos1408, fengyun1c, iridium33, recent] = await Promise.all([\r\n    fetchGroup(\"stations\"),\r\n    fetchGroup(\"active\"),\r\n    fetchGroup(\"cosmos-1408-debris\"),\r\n    fetchGroup(\"1999-025\"),\r\n    fetchGroup(\"iridium-33-debris\"),\r\n    fetchGroup(\"last-30-days\"),\r\n  ])\r\n\r\n  // Categorize and tag\r\n  const allRecords: { record: OMMRecord; type: SatellitePosition[\"type\"] }[] = []\r\n\r\n  for (const r of stations) allRecords.push({ record: r, type: \"station\" })\r\n  for (const r of active) allRecords.push({ record: r, type: \"active\" })\r\n  for (const r of cosmos1408) allRecords.push({ record: r, type: \"debris\" })\r\n  for (const r of fengyun1c) allRecords.push({ record: r, type: \"debris\" })\r\n  for (const r of iridium33) allRecords.push({ record: r, type: \"debris\" })\r\n  for (const r of recent) allRecords.push({ record: r, type: \"recent\" })\r\n\r\n  // Deduplicate by NORAD ID\r\n  const seen = new Set<number>()\r\n  const unique = allRecords.filter(({ record }) => {\r\n    if (seen.has(record.NORAD_CAT_ID)) return false\r\n    seen.add(record.NORAD_CAT_ID)\r\n    return true\r\n  })\r\n\r\n  // Compute density bands from ALL records\r\n  const allOmm = unique.map((u) => u.record)\r\n  const densityBands = computeDensityBands(allOmm)\r\n\r\n  // Convert ALL unique records to positions (no subsampling)\r\n  const satellites: SatellitePosition[] = []\r\n\r\n  for (const { record, type } of unique) {\r\n    try {\r\n      const pos = ommToPosition(record, now)\r\n      // Keep all altitudes; only skip records with invalid coordinates\r\n      if (Number.isNaN(pos.lat) || Number.isNaN(pos.lon)) continue\r\n      satellites.push({\r\n        name: record.OBJECT_NAME,\r\n        noradId: record.NORAD_CAT_ID,\r\n        lat: pos.lat,\r\n        lon: pos.lon,\r\n        altitudeKm: pos.altitudeKm,\r\n        inclination: record.INCLINATION,\r\n        type,\r\n      })\r\n    } catch {\r\n      // Skip records with bad orbital elements\r\n    }\r\n  }\r\n\r\n  // Compute stats\r\n  const debrisCount = cosmos1408.length + fengyun1c.length + iridium33.length\r\n  const altitudes = allOmm.map((r) => computeAltitudes(r.MEAN_MOTION, r.ECCENTRICITY).mean).filter((a) => a > 0 && a < 50000)\r\n  const avgAlt = altitudes.length > 0 ? altitudes.reduce((s, a) => s + a, 0) / altitudes.length : 0\r\n\r\n  const peakBand = densityBands.reduce((max, b) => (b.objectCount > max.objectCount ? b : max), densityBands[0])\r\n\r\n  return {\r\n    satellites,\r\n    densityBands,\r\n    stats: {\r\n      totalTracked: unique.length,\r\n      activeSats: active.length,\r\n      debrisObjects: debrisCount,\r\n      stationObjects: stations.length,\r\n      recentLaunches: recent.length,\r\n      avgAltitude: Math.round(avgAlt),\r\n      peakBand: `${peakBand.bandStart}-${peakBand.bandEnd} km`,\r\n      peakCount: peakBand.objectCount,\r\n    },\r\n    lastUpdated: now.toISOString(),\r\n  }\r\n}\r\n\r\nexport async function GET() {\r\n  // Check cache\r\n  if (cache.data && Date.now() - cache.fetchedAt < CACHE_TTL) {\r\n    return NextResponse.json(cache.data)\r\n  }\r\n\r\n  try {\r\n    const data = await buildCelestrakData()\r\n    cache = { data, fetchedAt: Date.now() }\r\n    return NextResponse.json(data)\r\n  } catch (error) {\r\n    // If we have stale cache, use it\r\n    if (cache.data) {\r\n      return NextResponse.json(cache.data)\r\n    }\r\n    return NextResponse.json(\r\n      { error: \"Failed to fetch CelesTrak data\" },\r\n      { status: 502 }\r\n    )\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}}]
}